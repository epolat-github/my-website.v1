{"ast":null,"code":"import { dbInstance } from \"../../src/dbCon\";\n\nvar dateFormat = require(\"dateformat\");\n\nexport default ((req, res) => {\n  // const allPosts = postList();    //array of post obj\n  const postId = req.query.postSlug;\n  console.log(postId);\n  let firestore = dbInstance();\n  let posts = [];\n  firestore.collection(\"blogs\").doc(postId).get().then(doc => {\n    console.log(snapshot);\n    let postSlug = doc.id;\n    let postInfo = doc.data();\n    let blogObj = {\n      title: postInfo.blogName,\n      slug: postSlug,\n      details: postInfo.blogDetail,\n      date: dateFormat(postInfo.blogTime, \"mmmm dS, yyyy\")\n    };\n    posts.push(blogObj);\n    const foundPost = posts.find(post => post.slug === postId);\n    res.status(200).json({\n      post: foundPost\n    });\n  }).catch(() => console.log(\"problem getting post\"));\n});","map":{"version":3,"sources":["/home/epolat/Desktop/projects/website/pages/api/[postSlug].js"],"names":["dbInstance","dateFormat","require","req","res","postId","query","postSlug","console","log","firestore","posts","collection","doc","get","then","snapshot","id","postInfo","data","blogObj","title","blogName","slug","details","blogDetail","date","blogTime","push","foundPost","find","post","status","json","catch"],"mappings":"AAAA,SAASA,UAAT,QAA2B,iBAA3B;;AACA,IAAIC,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3B;AAEA,QAAMC,MAAM,GAAGF,GAAG,CAACG,KAAJ,CAAUC,QAAzB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACA,MAAIK,SAAS,GAAGV,UAAU,EAA1B;AACA,MAAIW,KAAK,GAAG,EAAZ;AACAD,EAAAA,SAAS,CACNE,UADH,CACc,OADd,EAEGC,GAFH,CAEOR,MAFP,EAGGS,GAHH,GAIGC,IAJH,CAIQF,GAAG,IAAI;AACXL,IAAAA,OAAO,CAACC,GAAR,CAAYO,QAAZ;AACA,QAAIT,QAAQ,GAAGM,GAAG,CAACI,EAAnB;AACA,QAAIC,QAAQ,GAAGL,GAAG,CAACM,IAAJ,EAAf;AAEA,QAAIC,OAAO,GAAG;AACZC,MAAAA,KAAK,EAAEH,QAAQ,CAACI,QADJ;AAEZC,MAAAA,IAAI,EAAEhB,QAFM;AAGZiB,MAAAA,OAAO,EAAEN,QAAQ,CAACO,UAHN;AAIZC,MAAAA,IAAI,EAAEzB,UAAU,CAACiB,QAAQ,CAACS,QAAV,EAAoB,eAApB;AAJJ,KAAd;AAMAhB,IAAAA,KAAK,CAACiB,IAAN,CAAWR,OAAX;AACA,UAAMS,SAAS,GAAGlB,KAAK,CAACmB,IAAN,CAAWC,IAAI,IAAIA,IAAI,CAACR,IAAL,KAAclB,MAAjC,CAAlB;AACAD,IAAAA,GAAG,CAAC4B,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,MAAAA,IAAI,EAAEF;AAAR,KAArB;AACD,GAlBH,EAmBGK,KAnBH,CAmBS,MAAM1B,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAnBf;AAoBD,CA3BD","sourcesContent":["import { dbInstance } from \"../../src/dbCon\";\nvar dateFormat = require(\"dateformat\");\n\nexport default (req, res) => {\n  // const allPosts = postList();    //array of post obj\n\n  const postId = req.query.postSlug;\n  console.log(postId);\n  let firestore = dbInstance();\n  let posts = [];\n  firestore\n    .collection(\"blogs\")\n    .doc(postId)\n    .get()\n    .then(doc => {\n      console.log(snapshot);\n      let postSlug = doc.id;\n      let postInfo = doc.data();\n\n      let blogObj = {\n        title: postInfo.blogName,\n        slug: postSlug,\n        details: postInfo.blogDetail,\n        date: dateFormat(postInfo.blogTime, \"mmmm dS, yyyy\")\n      };\n      posts.push(blogObj);\n      const foundPost = posts.find(post => post.slug === postId);\n      res.status(200).json({ post: foundPost });\n    })\n    .catch(() => console.log(\"problem getting post\"));\n};\n"]},"metadata":{},"sourceType":"module"}