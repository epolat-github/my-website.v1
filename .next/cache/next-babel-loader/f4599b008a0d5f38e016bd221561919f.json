{"ast":null,"code":"import { dbInstance } from \"../../src/dbCon\";\n\nvar dateFormat = require(\"dateformat\");\n\nexport default ((req, res) => {\n  // const allPosts = postList();    //array of post obj\n  const postId = req.query.postId;\n  let firestore = dbInstance();\n  let posts = [];\n  firestore.collection(\"blogs\").get().then(snapshot => {\n    snapshot.forEach(doc => {\n      let blogSlug = doc.id;\n      let blogInfo = doc.data();\n      let blogObj = {\n        title: blogInfo.blogName,\n        slug: blogSlug,\n        details: blogInfo.blogDetail,\n        date: dateFormat(blogInfo.blogTime, \"mmmm dS, yyyy, h:MM:ss TT\")\n      };\n      posts.push(blogObj);\n    });\n    const foundPost = posts.find(post => post.slug === postId);\n    res.status(200).json({\n      post: foundPost\n    });\n  });\n});","map":{"version":3,"sources":["/home/epolat/Desktop/nextJs/website/pages/api/[postId].js"],"names":["dbInstance","dateFormat","require","req","res","postId","query","firestore","posts","collection","get","then","snapshot","forEach","doc","blogSlug","id","blogInfo","data","blogObj","title","blogName","slug","details","blogDetail","date","blogTime","push","foundPost","find","post","status","json"],"mappings":"AAAA,SAASA,UAAT,QAA2B,iBAA3B;;AACA,IAAIC,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3B;AAEA,QAAMC,MAAM,GAAGF,GAAG,CAACG,KAAJ,CAAUD,MAAzB;AACA,MAAIE,SAAS,GAAGP,UAAU,EAA1B;AACA,MAAIQ,KAAK,GAAG,EAAZ;AACAD,EAAAA,SAAS,CACNE,UADH,CACc,OADd,EAEGC,GAFH,GAGGC,IAHH,CAGQC,QAAQ,IAAI;AAChBA,IAAAA,QAAQ,CAACC,OAAT,CAAiBC,GAAG,IAAI;AACtB,UAAIC,QAAQ,GAAGD,GAAG,CAACE,EAAnB;AACA,UAAIC,QAAQ,GAAGH,GAAG,CAACI,IAAJ,EAAf;AAEA,UAAIC,OAAO,GAAG;AACZC,QAAAA,KAAK,EAAEH,QAAQ,CAACI,QADJ;AAEZC,QAAAA,IAAI,EAAEP,QAFM;AAGZQ,QAAAA,OAAO,EAAEN,QAAQ,CAACO,UAHN;AAIZC,QAAAA,IAAI,EAAExB,UAAU,CAACgB,QAAQ,CAACS,QAAV,EAAoB,2BAApB;AAJJ,OAAd;AAMAlB,MAAAA,KAAK,CAACmB,IAAN,CAAWR,OAAX;AACD,KAXD;AAYA,UAAMS,SAAS,GAAGpB,KAAK,CAACqB,IAAN,CAAWC,IAAI,IAAIA,IAAI,CAACR,IAAL,KAAcjB,MAAjC,CAAlB;AACAD,IAAAA,GAAG,CAAC2B,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,MAAAA,IAAI,EAAEF;AAAR,KAArB;AACD,GAlBH;AAmBD,CAzBD","sourcesContent":["import { dbInstance } from \"../../src/dbCon\";\nvar dateFormat = require(\"dateformat\");\n\nexport default (req, res) => {\n  // const allPosts = postList();    //array of post obj\n\n  const postId = req.query.postId;\n  let firestore = dbInstance();\n  let posts = [];\n  firestore\n    .collection(\"blogs\")\n    .get()\n    .then(snapshot => {\n      snapshot.forEach(doc => {\n        let blogSlug = doc.id;\n        let blogInfo = doc.data();\n\n        let blogObj = {\n          title: blogInfo.blogName,\n          slug: blogSlug,\n          details: blogInfo.blogDetail,\n          date: dateFormat(blogInfo.blogTime, \"mmmm dS, yyyy, h:MM:ss TT\")\n        };\n        posts.push(blogObj);\n      });\n      const foundPost = posts.find(post => post.slug === postId);\n      res.status(200).json({ post: foundPost });\n    });\n};\n"]},"metadata":{},"sourceType":"module"}