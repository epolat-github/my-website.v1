{"ast":null,"code":"import { dbInstance } from \"../../src/dbCon\";\nimport Cors from \"micro-cors\";\n\nvar dateFormat = require(\"dateformat\");\n\nconst cors = Cors();\n\nfunction handler(req, res) {\n  const postSlug = req.query.postSlug;\n  let firestore = dbInstance();\n  firestore.collection(\"blogs\").doc(postSlug).get().then(doc => {\n    let postSlug = doc.id;\n    let postInfo = doc.data();\n    let blogObj = {\n      title: postInfo.blogName,\n      slug: postSlug,\n      details: postInfo.blogDetail,\n      date: dateFormat(postInfo.blogTime, \"mmmm dS, yyyy\")\n    };\n    res.status(200).json({\n      post: blogObj\n    });\n  }).catch(error => console.log(\"problem getting post\", error));\n}\n\nexport default cors(handler);","map":{"version":3,"sources":["/home/epolat/Desktop/projects/website/pages/api/[postSlug].js"],"names":["dbInstance","Cors","dateFormat","require","cors","handler","req","res","postSlug","query","firestore","collection","doc","get","then","id","postInfo","data","blogObj","title","blogName","slug","details","blogDetail","date","blogTime","status","json","post","catch","error","console","log"],"mappings":"AAAA,SAASA,UAAT,QAA2B,iBAA3B;AACA,OAAOC,IAAP,MAAiB,YAAjB;;AACA,IAAIC,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AAEA,MAAMC,IAAI,GAAGH,IAAI,EAAjB;;AAEA,SAASI,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;AACzB,QAAMC,QAAQ,GAAGF,GAAG,CAACG,KAAJ,CAAUD,QAA3B;AACA,MAAIE,SAAS,GAAGV,UAAU,EAA1B;AACAU,EAAAA,SAAS,CACNC,UADH,CACc,OADd,EAEGC,GAFH,CAEOJ,QAFP,EAGGK,GAHH,GAIGC,IAJH,CAIQF,GAAG,IAAI;AACX,QAAIJ,QAAQ,GAAGI,GAAG,CAACG,EAAnB;AACA,QAAIC,QAAQ,GAAGJ,GAAG,CAACK,IAAJ,EAAf;AAEA,QAAIC,OAAO,GAAG;AACZC,MAAAA,KAAK,EAAEH,QAAQ,CAACI,QADJ;AAEZC,MAAAA,IAAI,EAAEb,QAFM;AAGZc,MAAAA,OAAO,EAAEN,QAAQ,CAACO,UAHN;AAIZC,MAAAA,IAAI,EAAEtB,UAAU,CAACc,QAAQ,CAACS,QAAV,EAAoB,eAApB;AAJJ,KAAd;AAOAlB,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAArB;AACD,GAhBH,EAiBGW,KAjBH,CAiBSC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCF,KAApC,CAjBlB;AAkBD;;AAED,eAAe1B,IAAI,CAACC,OAAD,CAAnB","sourcesContent":["import { dbInstance } from \"../../src/dbCon\";\nimport Cors from \"micro-cors\";\nvar dateFormat = require(\"dateformat\");\n\nconst cors = Cors();\n\nfunction handler(req, res) {\n  const postSlug = req.query.postSlug;\n  let firestore = dbInstance();\n  firestore\n    .collection(\"blogs\")\n    .doc(postSlug)\n    .get()\n    .then(doc => {\n      let postSlug = doc.id;\n      let postInfo = doc.data();\n\n      let blogObj = {\n        title: postInfo.blogName,\n        slug: postSlug,\n        details: postInfo.blogDetail,\n        date: dateFormat(postInfo.blogTime, \"mmmm dS, yyyy\")\n      };\n\n      res.status(200).json({ post: blogObj });\n    })\n    .catch(error => console.log(\"problem getting post\", error));\n}\n\nexport default cors(handler);\n"]},"metadata":{},"sourceType":"module"}