{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nvar _jsxFileName = \"/home/epolat/Desktop/projects/website/pages/write.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport addData from \"../src/dbCon\";\nimport { dbInstance, authInstance, checkUser } from \"../src/dbCon\";\nimport Layout from \"../components/layout\";\nimport fetch from \"isomorphic-unfetch\";\nimport { useReducer } from \"react\";\n\nconst transferData = data => {\n  const firestore = dbInstance();\n  let slug = data.blogSlug;\n  let name = data.blogName;\n  let detail = data.blogDetail;\n\n  if (slug == \"\" || name == \"\" || detail == \"\") {\n    document.getElementById(\"status\").innerHTML = \"Fill the required areas please.\";\n    return;\n  }\n\n  const post = {\n    blogName: name,\n    blogDetail: detail,\n    blogTime: _Date$now()\n  };\n  const docRef = firestore.collection(\"blogs\").doc(data.blogSlug);\n  docRef.set(post).then(() => {\n    console.log(\"Saved\");\n    document.querySelector(\"p\").innerHTML = __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, \"`slug: $\", slug, \",`\") + `name: ${name} created.`;\n  }).catch(error => {\n    console.log(\"Got an error:\" + error);\n    document.getElementById(\"status\").innerHTML = `${error.message}`;\n  });\n};\n\nconst handlePostListClick = post => {\n  // change the look\n  let activeListItems = document.querySelector(\".active\");\n  activeListItems ? activeListItems.classList.toggle(\"active\") : null;\n  document.getElementById(post.slug).classList.toggle(\"active\"); // show post\n\n  document.getElementById(\"inputName\").value = post.title;\n  document.getElementById(\"inputDetail\").value = post.details;\n};\n\nconst listPosts = posts => {\n  return posts.map(post => {\n    return __jsx(\"button\", {\n      key: post.slug,\n      id: post.slug,\n      onClick: () => handlePostListClick(post),\n      className: \"list-group-item list-group-item-action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, post.title, \" \", __jsx(\"button\", {\n      className: \"jsx-3078974914\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"deneme\", \" \", __jsx(_JSXStyle, {\n      id: \"3078974914\",\n      __self: this\n    }, \"button.jsx-3078974914{color:red;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Vwb2xhdC9EZXNrdG9wL3Byb2plY3RzL3dlYnNpdGUvcGFnZXMvd3JpdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMkRzQixBQUd5QixVQUNaIiwiZmlsZSI6Ii9ob21lL2Vwb2xhdC9EZXNrdG9wL3Byb2plY3RzL3dlYnNpdGUvcGFnZXMvd3JpdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYWRkRGF0YSBmcm9tIFwiLi4vc3JjL2RiQ29uXCI7XG5pbXBvcnQgeyBkYkluc3RhbmNlLCBhdXRoSW5zdGFuY2UsIGNoZWNrVXNlciB9IGZyb20gXCIuLi9zcmMvZGJDb25cIjtcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvbGF5b3V0XCI7XG5pbXBvcnQgZmV0Y2ggZnJvbSBcImlzb21vcnBoaWMtdW5mZXRjaFwiO1xuaW1wb3J0IHsgdXNlUmVkdWNlciB9IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCB0cmFuc2ZlckRhdGEgPSBkYXRhID0+IHtcbiAgY29uc3QgZmlyZXN0b3JlID0gZGJJbnN0YW5jZSgpO1xuXG4gIGxldCBzbHVnID0gZGF0YS5ibG9nU2x1ZztcbiAgbGV0IG5hbWUgPSBkYXRhLmJsb2dOYW1lO1xuICBsZXQgZGV0YWlsID0gZGF0YS5ibG9nRGV0YWlsO1xuXG4gIGlmIChzbHVnID09IFwiXCIgfHwgbmFtZSA9PSBcIlwiIHx8IGRldGFpbCA9PSBcIlwiKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0dXNcIikuaW5uZXJIVE1MID1cbiAgICAgIFwiRmlsbCB0aGUgcmVxdWlyZWQgYXJlYXMgcGxlYXNlLlwiO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHBvc3QgPSB7IGJsb2dOYW1lOiBuYW1lLCBibG9nRGV0YWlsOiBkZXRhaWwsIGJsb2dUaW1lOiBEYXRlLm5vdygpIH07XG5cbiAgY29uc3QgZG9jUmVmID0gZmlyZXN0b3JlLmNvbGxlY3Rpb24oXCJibG9nc1wiKS5kb2MoZGF0YS5ibG9nU2x1Zyk7XG5cbiAgZG9jUmVmXG4gICAgLnNldChwb3N0KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiU2F2ZWRcIik7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicFwiKS5pbm5lckhUTUwgPVxuICAgICAgICA8c3Ryb25nPmBzbHVnOiAke3NsdWd9LGA8L3N0cm9uZz4gKyBgbmFtZTogJHtuYW1lfSBjcmVhdGVkLmA7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJHb3QgYW4gZXJyb3I6XCIgKyBlcnJvcik7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXR1c1wiKS5pbm5lckhUTUwgPSBgJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgfSk7XG59O1xuXG5jb25zdCBoYW5kbGVQb3N0TGlzdENsaWNrID0gcG9zdCA9PiB7XG4gIC8vIGNoYW5nZSB0aGUgbG9va1xuICBsZXQgYWN0aXZlTGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY3RpdmVcIik7XG4gIGFjdGl2ZUxpc3RJdGVtcyA/IGFjdGl2ZUxpc3RJdGVtcy5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpIDogbnVsbDtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zdC5zbHVnKS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xuXG4gIC8vIHNob3cgcG9zdFxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0TmFtZVwiKS52YWx1ZSA9IHBvc3QudGl0bGU7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXREZXRhaWxcIikudmFsdWUgPSBwb3N0LmRldGFpbHM7XG59O1xuXG5jb25zdCBsaXN0UG9zdHMgPSBwb3N0cyA9PiB7XG4gIHJldHVybiBwb3N0cy5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAga2V5PXtwb3N0LnNsdWd9XG4gICAgICAgIGlkPXtwb3N0LnNsdWd9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVBvc3RMaXN0Q2xpY2socG9zdCl9XG4gICAgICAgIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBsaXN0LWdyb3VwLWl0ZW0tYWN0aW9uXCJcbiAgICAgID5cbiAgICAgICAge3Bvc3QudGl0bGV9e1wiIFwifVxuICAgICAgICA8YnV0dG9uPlxuICAgICAgICAgIGRlbmVtZXtcIiBcIn1cbiAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICBidXR0b24ge1xuICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9KTtcbn07XG5cbmNvbnN0IFdyaXRlID0gKHsgcG9zdHMgfSkgPT4gKFxuICA8TGF5b3V0PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIHB0LTVcIj5cbiAgICAgIDxoMSBzdHlsZT17eyBjb2xvcjogXCJ3aGl0ZVwiIH19Pkluc3BpcmUgU29tZW9uZSE8L2gxPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwIHB0LTNcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJCbG9nIFRpdGxlXCIgaWQ9XCJpbnB1dE5hbWVcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXAgcHQtM1wiPlxuICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICBpZD1cImlucHV0RGV0YWlsXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgIHJvd3M9XCIyMFwiXG4gICAgICAgID48L3RleHRhcmVhPlxuICAgICAgPC9kaXY+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxnIGJ0bi1zZWNvbmRhcnkgbXQtM1wiXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICB0cmFuc2ZlckRhdGEoe1xuICAgICAgICAgICAgYmxvZ1NsdWc6IGRvY3VtZW50XG4gICAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcImlucHV0TmFtZVwiKVxuICAgICAgICAgICAgICAudmFsdWUucmVwbGFjZSgvXFxzKy9nLCBcIi1cIilcbiAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICBibG9nTmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dE5hbWVcIikudmFsdWUsXG4gICAgICAgICAgICBibG9nRGV0YWlsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0RGV0YWlsXCIpLnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIFBvc3RcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgcG9zdC1saXN0LWNvbnRhaW5lclwiPlxuICAgICAgPHVsIGlkPVwicG9zdC1saXN0XCIgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICB7LyogVE9ETzogcG9zdCBzbHVnIHx8IGJhxZ9sxLFrbGFyZGFuIG9sdcWfYW4gbGlzdGUgPT4gc2XDp2luY2UgZWRpdCB2ZSBkZWxldGUgc2XDp2VuZWtsZXJpLiAqL31cbiAgICAgICAge2xpc3RQb3N0cyhwb3N0cyl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBpZD1cInN0YXR1cy1jb250YWluZXJcIj5cbiAgICAgIDxwIGlkPVwic3RhdHVzXCI+PC9wPlxuICAgIDwvZGl2PlxuICA8L0xheW91dD5cbik7XG5cbldyaXRlLmdldEluaXRpYWxQcm9wcyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuYmFzZVVybH1hcGkvcG9zdHNgKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gIHJldHVybiB7XG4gICAgcG9zdHM6IGRhdGEucG9zdHNcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdyaXRlO1xuIl19 */\\n/*@ sourceURL=/home/epolat/Desktop/projects/website/pages/write.js */\")));\n  });\n};\n\nconst Write = ({\n  posts\n}) => __jsx(Layout, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 72\n  },\n  __self: this\n}, __jsx(\"div\", {\n  className: \"container pt-5\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 73\n  },\n  __self: this\n}, __jsx(\"h1\", {\n  style: {\n    color: \"white\"\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 74\n  },\n  __self: this\n}, \"Inspire Someone!\"), __jsx(\"div\", {\n  className: \"form-group pt-3\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 75\n  },\n  __self: this\n}, __jsx(\"input\", {\n  type: \"text\",\n  placeholder: \"Blog Title\",\n  id: \"inputName\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 76\n  },\n  __self: this\n})), __jsx(\"div\", {\n  className: \"form-group pt-3\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 78\n  },\n  __self: this\n}, __jsx(\"textarea\", {\n  id: \"inputDetail\",\n  className: \"form-control\",\n  rows: \"20\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 79\n  },\n  __self: this\n})), __jsx(\"button\", {\n  type: \"button\",\n  className: \"btn btn-lg btn-secondary mt-3\",\n  onClick: () => {\n    transferData({\n      blogSlug: document.getElementById(\"inputName\").value.replace(/\\s+/g, \"-\").toLowerCase(),\n      blogName: document.getElementById(\"inputName\").value,\n      blogDetail: document.getElementById(\"inputDetail\").value\n    });\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 85\n  },\n  __self: this\n}, \"Post\")), __jsx(\"div\", {\n  className: \"container post-list-container\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 103\n  },\n  __self: this\n}, __jsx(\"ul\", {\n  id: \"post-list\",\n  className: \"list-group\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 104\n  },\n  __self: this\n}, listPosts(posts))), __jsx(\"div\", {\n  id: \"status-container\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 110\n  },\n  __self: this\n}, __jsx(\"p\", {\n  id: \"status\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 111\n  },\n  __self: this\n})));\n\nWrite.getInitialProps = async () => {\n  const res = await fetch(`${process.env.baseUrl}api/posts`);\n  const data = await res.json();\n  return {\n    posts: data.posts\n  };\n};\n\nexport default Write;","map":{"version":3,"sources":["/home/epolat/Desktop/projects/website/pages/write.js"],"names":["addData","dbInstance","authInstance","checkUser","Layout","fetch","useReducer","transferData","data","firestore","slug","blogSlug","name","blogName","detail","blogDetail","document","getElementById","innerHTML","post","blogTime","docRef","collection","doc","set","then","console","log","querySelector","catch","error","message","handlePostListClick","activeListItems","classList","toggle","value","title","details","listPosts","posts","map","Write","color","replace","toLowerCase","getInitialProps","res","process","env","baseUrl","json"],"mappings":"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","sourcesContent":["import addData from \"../src/dbCon\";\nimport { dbInstance, authInstance, checkUser } from \"../src/dbCon\";\nimport Layout from \"../components/layout\";\nimport fetch from \"isomorphic-unfetch\";\nimport { useReducer } from \"react\";\n\nconst transferData = data => {\n  const firestore = dbInstance();\n\n  let slug = data.blogSlug;\n  let name = data.blogName;\n  let detail = data.blogDetail;\n\n  if (slug == \"\" || name == \"\" || detail == \"\") {\n    document.getElementById(\"status\").innerHTML =\n      \"Fill the required areas please.\";\n    return;\n  }\n\n  const post = { blogName: name, blogDetail: detail, blogTime: Date.now() };\n\n  const docRef = firestore.collection(\"blogs\").doc(data.blogSlug);\n\n  docRef\n    .set(post)\n    .then(() => {\n      console.log(\"Saved\");\n      document.querySelector(\"p\").innerHTML =\n        <strong>`slug: ${slug},`</strong> + `name: ${name} created.`;\n    })\n    .catch(error => {\n      console.log(\"Got an error:\" + error);\n      document.getElementById(\"status\").innerHTML = `${error.message}`;\n    });\n};\n\nconst handlePostListClick = post => {\n  // change the look\n  let activeListItems = document.querySelector(\".active\");\n  activeListItems ? activeListItems.classList.toggle(\"active\") : null;\n  document.getElementById(post.slug).classList.toggle(\"active\");\n\n  // show post\n  document.getElementById(\"inputName\").value = post.title;\n  document.getElementById(\"inputDetail\").value = post.details;\n};\n\nconst listPosts = posts => {\n  return posts.map(post => {\n    return (\n      <button\n        key={post.slug}\n        id={post.slug}\n        onClick={() => handlePostListClick(post)}\n        className=\"list-group-item list-group-item-action\"\n      >\n        {post.title}{\" \"}\n        <button>\n          deneme{\" \"}\n          <style jsx>{`\n            button {\n              color: red;\n            }\n          `}</style>\n        </button>\n      </button>\n    );\n  });\n};\n\nconst Write = ({ posts }) => (\n  <Layout>\n    <div className=\"container pt-5\">\n      <h1 style={{ color: \"white\" }}>Inspire Someone!</h1>\n      <div className=\"form-group pt-3\">\n        <input type=\"text\" placeholder=\"Blog Title\" id=\"inputName\" />\n      </div>\n      <div className=\"form-group pt-3\">\n        <textarea\n          id=\"inputDetail\"\n          className=\"form-control\"\n          rows=\"20\"\n        ></textarea>\n      </div>\n      <button\n        type=\"button\"\n        className=\"btn btn-lg btn-secondary mt-3\"\n        onClick={() => {\n          transferData({\n            blogSlug: document\n              .getElementById(\"inputName\")\n              .value.replace(/\\s+/g, \"-\")\n              .toLowerCase(),\n            blogName: document.getElementById(\"inputName\").value,\n            blogDetail: document.getElementById(\"inputDetail\").value\n          });\n        }}\n      >\n        Post\n      </button>\n    </div>\n\n    <div className=\"container post-list-container\">\n      <ul id=\"post-list\" className=\"list-group\">\n        {/* TODO: post slug || başlıklardan oluşan liste => seçince edit ve delete seçenekleri. */}\n        {listPosts(posts)}\n      </ul>\n    </div>\n\n    <div id=\"status-container\">\n      <p id=\"status\"></p>\n    </div>\n  </Layout>\n);\n\nWrite.getInitialProps = async () => {\n  const res = await fetch(`${process.env.baseUrl}api/posts`);\n  const data = await res.json();\n  return {\n    posts: data.posts\n  };\n};\n\nexport default Write;\n"]},"metadata":{},"sourceType":"module"}